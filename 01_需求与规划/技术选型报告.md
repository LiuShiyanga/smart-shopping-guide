# 技术选型报告

## 1. 概述
本报告根据项目实际需求、开发周期和团队规模，确定如下技术选型方案。

## 2. 前端技术栈 (浏览器插件)

### 2.1 浏览器插件开发框架
- **Plasmo**：专为浏览器插件开发的React框架，内置热重载、自动打包、声明式权限管理等，极大提升开发效率，适合小团队敏捷开发。

### 2.2 UI组件库
- **Ant Design (React)**：京东内部广泛使用，设计风格统一，组件丰富，社区活跃，能快速构建符合品牌风格的界面。

### 2.3 状态管理
- **Zustand (React)**：轻量级、简单易用的状态管理库，API简洁，对TypeScript支持良好，适合插件级别应用。

## 3. 后端技术栈

### 3.1 编程语言与框架
- **Python + FastAPI**：NLP和数据处理生态丰富，开发效率高，API文档自动生成，适合小团队敏捷开发。

### 3.2 API设计与实现
- **风格**: RESTful API。
- **规范**: OpenAPI (Swagger) 规范进行API设计和文档生成。

### 3.3 部署与运维
- **容器化**: Docker。
- **编排**: Kubernetes (K8s) 或 Serverless（如后期扩展需要）。
- **CI/CD**: GitHub Actions。

## 4. 多智能体架构

### 4.1 智能体划分
- **对话管理Agent**：负责NLU, DST, Dialog Policy, NLG。
- **MCP/多平台数据获取Agent**：封装对京东、淘宝、小红书、抖音等平台接口的调用、认证、数据解析、缓存和错误处理。
- **产品知识Agent**：管理和查询结构化的产品信息、规格参数等。
- **问答Agent**：基于产品知识和用户评价进行问题解答。
- **比较Agent**：执行产品横向比较逻辑。
- **推荐Agent**：实现推荐算法，生成推荐结果。
- **搜索Agent**：负责多平台商品检索。
- **（用户画像Agent暂不实现，后续可扩展）**

### 4.2 Agent间通信机制
- **HTTP/REST API**：所有Agent以服务形式暴露接口，中央协调器负责调度和聚合结果。

### 4.3 协作与调度模式
- **中央协调器模式**：前端或后端实现一个Orchestrator，统一接收用户请求，分发给各Agent，最后整合输出。

## 5. NLP相关技术

### 5.1 意图识别与实体提取
- **开源NLP库（如spaCy、Rasa NLU、Transformers）**：满足意图识别、实体抽取等需求，易于本地部署和定制。

### 5.2 对话管理
- **规则/状态机 + Rasa Core**：参数收集等简单流程用规则/状态机，复杂多轮对话可用Rasa Core等框架。

### 5.3 自然语言生成 (NLG)
- **模板化回复为主，复杂问题可调用大模型**：常见问答用模板，复杂开放式问题可用大模型API生成。

## 6. 数据存储方案

### 6.1 用户会话历史与偏好
- **浏览器本地存储**：无需后端持久化，便于快速开发和合规。

### 6.2 产品知识库/缓存
- **MCP/多平台接口实时调用为主**，高频数据可短期缓存（如内存或Redis，后端可选实现）。

## 7. 推荐算法方案

### 7.1 初期方案
- **基于规则和内容相似度的推荐**：根据用户明确需求和商品特征进行推荐。

### 7.2 进阶方案
- **协同过滤/混合推荐**：后续可根据用户行为数据逐步引入。

## 8. 选型理由总结
- 所有技术均兼顾开发效率、团队熟悉度和项目周期，适合1周内交付MVP。
- 选型方案支持后续功能扩展和多平台数据整合。 